{
    "version": "1.2.2",
    "description": "Lightweight, simple and open source QQNT plugin loader.",
    "homepage": "https://github.com/LiteLoaderQQNT/LiteLoaderQQNT",
    "license": "MIT",
    "url": "https://github.com/LiteLoaderQQNT/LiteLoaderQQNT/releases/download/1.2.2/LiteLoaderQQNT.zip",
    "hash": "a325c592ec53b7469c44f7eea5d27a0984e14d54ccd8d596446d0938bc91d561",
    "notes": "This is a plugin loader for QQNT, you need to install march7th/qqnt first.To remove file verificationï¼Œyou need to install march7th/qqntfileverifypatch.We recommend that you install the LL-plugin-list-viewer first from https://github.com/ltxhhz/LL-plugin-list-viewer",
    "pre_install": [
        "if(Test-Path \"$env:scoop\\apps\\qqnt\") {",
        "   if(-NOT (Test-Path \"$env:scoop\\apps\\liteLoaderqqnt\\current\\data\")) {",
        "      New-Item -ItemType Directory -Path \"$env:scoop\\apps\\liteLoaderqqnt\\current\\data\"",
        "   }",
        "   if(-NOT (Test-Path \"$env:scoop\\apps\\liteLoaderqqnt\\current\\plugins\")) {",
        "      New-Item -ItemType Directory -Path \"$env:scoop\\apps\\liteLoaderqqnt\\current\\plugins\"",
        "   }",
        "   $path = \"$env:scoop\\apps\\qqnt\\current\\Files\\resources\\app\"",
        "   $text = \"require(String.raw``$env:scoop\\apps\\liteLoaderqqnt\\current``)\"",
        "   $text = $text -replace \"\\\\\",\"\\\\\"",
        "   if((Test-Path $env:scoop\\apps\\qqnt\\current\\Files\\versions)) {",
        "      $qq_version = Get-ChildItem -Path \"$env:scoop\\apps\\qqnt\\current\\Files\\versions\" -Name -Exclude *.json",
        "      $path = \"$env:scoop\\apps\\qqnt\\current\\Files\\versions\\$qq_version\\resources\\app\"",
        "   }",
        "   Out-File -FilePath \"$path\\app_launcher\\liteLoader.js\" -InputObject $text -Encoding utf8 -Force",
        "   cp \"$path\\package.json\" \"$path\\package.bak\"",
        "   $package = Get-Content -Path $path/package.json | ConvertFrom-Json",
        "   $package.main = \"./app_launcher/liteloader.js\"",
        "   $package = $package | ConvertTo-Json",
        "   $package = $package -replace \"`r`n\",\"`n\"",
        "   $package.TrimEnd(\"`r\",\"`n\") | Set-Content -Path $path/package.json",
        "}",
        "else {",
        "   Write-Host \"Please install march7th/qqnt first.\"",
        "   exit 1",
        "}"
    ],
    "post_uninstall": [
        "$path = \"$env:scoop\\apps\\qqnt\\current\\Files\\resources\\app\"",
        "if((Test-Path $env:scoop\\apps\\qqnt\\current\\Files\\versions)) {",
        "    $qq_version = Get-ChildItem -Path \"$env:scoop\\apps\\qqnt\\current\\Files\\versions\" -Name -Exclude *.json",
        "   $path = \"$env:scoop\\apps\\qqnt\\current\\Files\\versions\\$qq_version\\resources\\app\"",
        "}",
        "Remove-Item -Path \"$path\\app_launcher\\liteLoader.js\" -Force",
        "$package = Get-Content -Path $path/package.json | ConvertFrom-Json",
        "$package.main = \"./application/app_launcher/index.js\"",
        "$package = $package | ConvertTo-Json",
        "$package = $package -replace \"`r`n\",\"`n\"",
        "$package.TrimEnd(\"`r\",\"`n\") | Set-Content -Path $path/package.json"
    ],
    "persist": [
        "data",
        "plugins"
    ],
    "checkver": "github",
    "autoupdate": {
        "url": "https://github.com/LiteLoaderQQNT/LiteLoaderQQNT/releases/download/$version/LiteLoaderQQNT.zip"
    }
}